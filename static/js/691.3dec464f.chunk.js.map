{"version":3,"file":"static/js/691.3dec464f.chunk.js","mappings":"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","sources":["pages/Movies/Movies.styled.jsx","pages/Movies/Movies.jsx","servicesAPI/APImovies.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const MoviesContainer = styled.div`\r\n    background-color: #fbeede;\r\n    padding-left: 50px;\r\n`","import { Link, useSearchParams, useLocation } from 'react-router-dom';\r\nimport { useState, useMemo } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport { fetchSearchMovie } from 'servicesAPI/APImovies';\r\nimport { MoviesContainer } from './Movies.styled';\r\nimport Loader from 'components/Loader';\r\n\r\nconst Movies = () => {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [waitingInput, setWaitingInput] = useState(true);\r\n  const [searchParams, setSearchParams] = useSearchParams(\"\");\r\n  const search = useMemo(() => searchParams.get('search'), [searchParams]);\r\n  const location = useLocation();\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { elements } = e.target;\r\n    console.log('elements', elements.search.value);\r\n    setWaitingInput(false);\r\n    const getData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const data = await fetchSearchMovie(elements.search.value);\r\n        setData(data.results);\r\n      } catch (error) {\r\n        console.log(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    getData();\r\n  };\r\n\r\n  return (\r\n    <MoviesContainer>\r\n      {console.log('data from Movies page', data)}\r\n      <h2>Movies</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"search\"\r\n          value={search}\r\n          onChange={e => setSearchParams({ search: e.target.value })}\r\n        ></input>\r\n        <button type=\"submit\">Search</button>\r\n      </form>\r\n      {waitingInput ? null : loading ? (\r\n        <Loader/>\r\n      ) : (\r\n        <ul>\r\n          {data.map(movieFound => {\r\n            return (\r\n              <li key={movieFound.id}>\r\n                <Link\r\n                  to={`/movies/${movieFound.id}`}\r\n                  state={{ from: location }}\r\n                >\r\n                  {movieFound.title}\r\n                </Link>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      )}\r\n      <Outlet />\r\n    </MoviesContainer>\r\n  );\r\n};\r\nexport default Movies;\r\n","const BASE_URL =\"https://api.themoviedb.org/3\"\r\nconst API_KEY = \"efe14000365490baeb4948d255370e47\"\r\n/* 'https://api.themoviedb.org/3/movie/11?api_key=' */\r\nexport async function fetchMovieDetails(id) {\r\n    const query = `/movie/${id}`;\r\n    try {\r\n      const data = await fetch(\r\n        `${BASE_URL}${query}?language=en-US&api_key=${API_KEY}`\r\n      );\r\n      const datas = await data.json()\r\n      return datas\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  export async function fetchSearchMovie(SearchInput) {\r\n    const query = `/search/movie?query=${SearchInput}`;\r\n    console.log(\"searchInput\",SearchInput)\r\n    try {\r\n      const data = await fetch(\r\n        `\r\n        ${BASE_URL}${query}&include_adult=true&language=en-US&page=1&api_key=efe14000365490baeb4948d255370e47`\r\n      );\r\n      const datas = await data.json()\r\n      return datas\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n  export async function fetchMovieCast(id) {\r\n    const query = `/movie/${id}`;\r\n    try {\r\n      const data = await fetch(\r\n        \r\n        `${BASE_URL}${query}/credits?language=en-US&api_key=${API_KEY}`\r\n      );\r\n      const datas = await data.json()\r\n      return datas\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n    \r\n  }\r\n\r\n  export async function fetchMovieReviews(id) {\r\n    const query = `/movie/${id}`;\r\n    try {\r\n      const data = await fetch(\r\n        `${BASE_URL}${query}/reviews?language=en-US&api_key=${API_KEY}`\r\n      )\r\n      const datas = await data.json();\r\n      return datas\r\n    } catch (error) { throw error;\r\n      \r\n    }\r\n  }","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["MoviesContainer","styled","useState","data","setData","loading","setLoading","waitingInput","setWaitingInput","useSearchParams","searchParams","setSearchParams","search","useMemo","get","location","useLocation","console","log","onSubmit","e","preventDefault","elements","target","value","getData","fetchSearchMovie","results","type","name","onChange","Loader","map","movieFound","to","id","state","from","title","BASE_URL","API_KEY","fetchMovieDetails","query","fetch","json","datas","SearchInput","fetchMovieCast","fetchMovieReviews","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}
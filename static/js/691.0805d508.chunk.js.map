{"version":3,"file":"static/js/691.0805d508.chunk.js","mappings":"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","sources":["pages/Movies/Movies.styled.jsx","pages/Movies/Movies.jsx","servicesAPI/APImovies.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const MoviesContainer = styled.div`\n    background-color: #fbeede;\n    padding-left: 50px;\n`","import { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport { useState, useMemo } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { fetchSearchMovie } from 'servicesAPI/APImovies';\nimport { MoviesContainer } from './Movies.styled';\nimport Loader from 'components/Loader';\n\nconst Movies = () => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [waitingInput, setWaitingInput] = useState(true);\n  const [searchParams, setSearchParams] = useSearchParams(\"\");\n  const search = useMemo(() => searchParams.get('search'), [searchParams]);\n  const location = useLocation();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const { elements } = e.target;\n  \n    setWaitingInput(false);\n    const getData = async () => {\n      try {\n        setLoading(true);\n        const data = await fetchSearchMovie(elements.search.value);\n        setData(data.results);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    getData();\n  };\n\n  return (\n    <MoviesContainer>\n      \n      <h2>Movies</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"search\"\n          value={search}\n          onChange={e => setSearchParams({ search: e.target.value })}\n        ></input>\n        <button type=\"submit\">Search</button>\n      </form>\n      {waitingInput ? null : loading ? (\n        <Loader/>\n      ) : (\n        <ul>\n          {data.map(movieFound => {\n            return (\n              <li key={movieFound.id}>\n                <Link\n                  to={`/movies/${movieFound.id}`}\n                  state={{ from: location }}\n                >\n                  {movieFound.title}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      )}\n      <Outlet />\n    </MoviesContainer>\n  );\n};\nexport default Movies;\n","const BASE_URL =\"https://api.themoviedb.org/3\"\nconst API_KEY = \"efe14000365490baeb4948d255370e47\"\n/* 'https://api.themoviedb.org/3/movie/11?api_key=' */\nexport async function fetchMovieDetails(id) {\n    const query = `/movie/${id}`;\n    try {\n      const data = await fetch(\n        `${BASE_URL}${query}?language=en-US&api_key=${API_KEY}`\n      );\n      const datas = await data.json()\n      return datas\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  export async function fetchSearchMovie(SearchInput) {\n    const query = `/search/movie?query=${SearchInput}`;\n    \n    try {\n      const data = await fetch(\n        `\n        ${BASE_URL}${query}&include_adult=true&language=en-US&page=1&api_key=efe14000365490baeb4948d255370e47`\n      );\n      const datas = await data.json()\n      return datas\n    } catch (error) {\n      throw error;\n    }\n  }\n  export async function fetchMovieCast(id) {\n    const query = `/movie/${id}`;\n    try {\n      const data = await fetch(\n        \n        `${BASE_URL}${query}/credits?language=en-US&api_key=${API_KEY}`\n      );\n      const datas = await data.json()\n      return datas\n    } catch (error) {\n      throw error;\n    }\n    \n  }\n\n  export async function fetchMovieReviews(id) {\n    const query = `/movie/${id}`;\n    try {\n      const data = await fetch(\n        `${BASE_URL}${query}/reviews?language=en-US&api_key=${API_KEY}`\n      )\n      const datas = await data.json();\n      return datas\n    } catch (error) { throw error;\n      \n    }\n  }","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["MoviesContainer","styled","useState","data","setData","loading","setLoading","waitingInput","setWaitingInput","useSearchParams","searchParams","setSearchParams","search","useMemo","get","location","useLocation","onSubmit","e","preventDefault","elements","target","getData","fetchSearchMovie","value","results","console","log","type","name","onChange","Loader","map","movieFound","to","id","state","from","title","BASE_URL","API_KEY","fetchMovieDetails","query","fetch","json","datas","SearchInput","fetchMovieCast","fetchMovieReviews","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}